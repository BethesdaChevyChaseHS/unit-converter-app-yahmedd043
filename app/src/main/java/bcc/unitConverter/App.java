/*
 * This source file was generated by the Gradle 'init' task
 */

package bcc.unitConverter;

import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextField;

public class App {
    public static void main(String[] args) {
        JFrame frame = new JFrame("Unit Converter");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // the first parameter is rows, second is columns, third is horizontal gap,
        // fourth is vertical gap
        // when you add your new converter calculators, you will want to change the row
        // number from 1 to 2/3
        frame.setLayout(new GridLayout(3, 4, 5, 5));

        JLabel inputLabel1 = new JLabel("Fahrenheit:");
        JTextField inputField1 = new JTextField();
        JButton convertButton1 = new JButton("Convert");
        JLabel outputLabel1 = new JLabel("Celsius: ");

        JLabel inputLabel2 = new JLabel("Celsius:");
        JTextField inputField2 = new JTextField();
        JButton convertButton2 = new JButton("Convert");
        JLabel outputLabel2 = new JLabel("Fahrenheit: ");

        JLabel inputLabel3 = new JLabel("Meters:");
        JTextField inputField3 = new JTextField();
        JButton convertButton3 = new JButton("Convert");
        JLabel outputLabel3 = new JLabel("Feet: ");

        // the below code uses what is called a try catch statatement.
        // if the code within the try block throws an error, the code within the catch
        // block will be executed
        // In this case, if the user inputs something that is not a number, parseDouble
        // will throw an error
        // If the user inputs something that is not a number, now instead of crashing,
        // instead they will get an error message.
        // try this out!
        convertButton1.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                try {
                    double fahrenheit = Double.parseDouble(inputField1.getText());
                    double celsius = (fahrenheit - 32) * 5 / 9;
                    // the user likely doesn't want a 15 digit print out of the conversion
                    //String.format allows you to format the output of a string to something more readable
                    // in this case, we are formatting it to 2 decimal places
                    // learn more at https://www.w3schools.com/java/ref_string_format.asp
                    outputLabel1.setText(String.format("Celsius: %.2f", celsius));
                } catch (NumberFormatException ex) {
                    outputLabel1.setText("Celsius: Invalid input");
                }
            }
        });

        convertButton2.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                try {
                    double celsius = Double.parseDouble(inputField2.getText());
                    double fahrenheit = celsius * 9 / 5 + 32;
                    outputLabel2.setText(String.format("Fahrenheit: %.2f", fahrenheit));
                } catch (NumberFormatException ex) {
                    outputLabel2.setText("Fahrenheit: Invalid input");
                }
            } 
        });

        convertButton3.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                try {
                    double meters = Double.parseDouble(inputField3.getText());
                    double feet = meters * 3.28084;
                    outputLabel3.setText(String.format("Feet: %.2f", feet));
                } catch (NumberFormatException ex) {
                    outputLabel3.setText("Feet: Invalid input");
                }
            } 
        });

        frame.add(inputLabel1);
        frame.add(inputField1);
        frame.add(convertButton1);
        frame.add(outputLabel1);

        //add your other rows to the frame here
        frame.add(inputLabel2);
        frame.add(inputField2);
        frame.add(convertButton2);
        frame.add(outputLabel2);

        frame.add(inputLabel3);
        frame.add(inputField3);
        frame.add(convertButton3);
        frame.add(outputLabel3);

        //you will also want to change the size of the frame when you add more rows
        frame.setSize(500, 80);
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    public String getGreeting() {
        return "hello!! welcome to my java unit conversion tool";
    }

}
